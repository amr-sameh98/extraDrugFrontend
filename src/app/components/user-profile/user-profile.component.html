
<div *ngIf="userData" class="mb-2 main-div">
    <mat-card class="card">
        <mat-card-header>
            <div mat-card-avatar>
                <img src="../../../assets/1.jpg" class="header-image">
            </div>
            <mat-card-title>{{userData.firstName}}</mat-card-title>
            <mat-card-subtitle>{{userData.username}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content class="fs-5">
            <p><span class="fw-bold">Full Name</span> {{userData.firstName}} {{userData.lastName}}</p>
            <p><span class="fw-bold">Email</span> {{userData.email}}</p>
            <p><span class="fw-bold">phone Number</span> {{userData.phoneNumber}}</p>
        </mat-card-content>
    </mat-card>
</div>
<div class="container mb-4 p-3 border border-2">
    <div class="header fw-bold">
        Change your password
    </div>

    <!-- changing password   -->
    
    <form [formGroup]="passwordForm" class="m-3" (ngSubmit)="submit()">
        <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input
              type="password"
              formControlName="OldPassword"
              class="form-control"
              id="password"
              name="password"
            />
            <div
              class="alert alert-warning"
              [hidden]="OldPassword?.valid || OldPassword?.untouched"
            >
              <small *ngIf="OldPassword?.errors?.['required']"> old password is required </small>
            </div>
        </div>
        <div class="mb-3">
            <label for="newpassword" class="form-label">New Password</label>
            <input
            #newPass
              type="password"
              formControlName="NewPassword"
              class="form-control"
              id="newpassword"
              name="newpassword"
            />
            <div
              class="alert alert-warning"
              [hidden]="NewPassword?.valid || NewPassword?.untouched"
            >
              <small *ngIf="NewPassword?.errors?.['required']"> new password is required </small>
            </div>
        </div>
        <div class="mb-3">
           
            <label for="password" class="form-label">Confirm Password</label>
            <input
            #conNewPass
              type="password"
              formControlName="confirmPassword"
              class="form-control"
              id="confirmPassword"
              name="confirmPassword"
            />
            <div
              class="alert alert-warning"
              [hidden]="(confirmPassword?.valid&& newPass.value==conNewPass.value)|| confirmPassword?.untouched"
            >
            <small *ngIf="confirmPassword?.errors?.['required']">confirmed Password is required </small>
            <small *ngIf="newPass.value!=conNewPass.value">Password not matched </small>
             
            </div>
          </div>
          <button
      [disabled]="passwordForm.invalid || newPass.value!=conNewPass.value"
      type="submit"
      class="btn btn-primary"
    >
      Change Password
    </button>
    </form>
</div>
